generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum MemberClassification {
  communicant
  nonCommunicant @map("non-communicant")
}

enum MemberVisibilityStatus {
  active
  archived
}

enum MemberSex {
  male
  female
}

enum MemberMaritalStatus {
  single
  married
  divorced
  widowed
}

enum MemberReceptionMode {
  profession_of_faith
  transfer
  restoration
}

model Hero {
  heroId    String   @id @map("hero_id") @db.Uuid
  name      String   @map("name")
  power     Int      @map("power")
  alive     Boolean  @map("alive")
  createdAt DateTime @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt DateTime @default(now()) @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@index([name], map: "heroes_name_idx")
  @@map("heroes")
}

model Member {
  memberId              String                 @id @map("member_id") @db.Uuid
  fullName              String                 @map("full_name")
  email                 String?                @map("email")
  phone                 String?                @map("phone")
  cpf                   String?                @map("cpf")
  profile               String?                @map("profile")
  classification        MemberClassification   @map("classification")
  status                MemberVisibilityStatus @map("status")
  sex                   MemberSex              @map("sex")
  maritalStatus         MemberMaritalStatus    @map("marital_status")
  birthDate             DateTime               @map("birth_date") @db.Date
  placeOfBirth          String                 @map("place_of_birth")
  literacy              Boolean                @map("literacy")
  professionOfFaithDate DateTime?              @map("profession_of_faith_date") @db.Date
  religiousBackground   String                 @map("religious_background")
  baptizedInInfancy     Boolean                @map("baptized_in_infancy")
  receptionDate         DateTime               @map("reception_date") @db.Date
  receptionMode         MemberReceptionMode    @map("reception_mode")
  receptionLocation     String                 @map("reception_location")
  celebrant             String                 @map("celebrant")
  addressStreet         String                 @map("address_street")
  addressNumber         String?                @map("address_number")
  addressDistrict       String?                @map("address_district")
  addressCity           String                 @map("address_city")
  addressState          String?                @map("address_state")
  addressZip            String?                @map("address_zip")
  addressComplement     String?                @map("address_complement")
  createdAt             DateTime               @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt             DateTime               @default(now()) @updatedAt @map("updated_at") @db.Timestamptz(6)

  @@index([fullName], map: "members_full_name_idx")
  @@index([status], map: "members_status_idx")
  @@index([profile], map: "members_profile_idx")
  @@map("members")
}
